<!--
  Generated template for the SchoolYearPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar> <ion-title>Ano Letivo</ion-title> </ion-navbar>
  <ion-item>
    <ion-label>Ano</ion-label>
    <ion-datetime
      displayFormat="YYYY"
      pickerFormat="YYYY"
      [(ngModel)]="year"
      min="2016"
      max="2022"
    ></ion-datetime>
  </ion-item>
  <ion-item>
    <ion-label floating>Regime Avaliativo</ion-label>
    <ion-select [(ngModel)]="regime" (ionChange)="onSelectChange($event)">
      <ion-option *ngFor="let regime of regimes" [value]="regime">{{
        regime.showValue
      }}</ion-option>
    </ion-select>
  </ion-item>
</ion-header>

<ion-content no-padding>
  <form [formGroup]="form">
    <ion-card *ngFor="let period of periods">
      <ion-card-header>
        <h3>{{ period.showValue }} Período</h3>
      </ion-card-header>
      <ion-card-content>
        <ion-item>
          <ion-label floating>Início do período</ion-label>
          <ion-datetime
            cancelText="Cancelar"
            doneText="Pronto"
            displayFormat="DD/MM/YYYY"
            [min]="year"
            [max]="year"
            [formControlName]="period.value + '_start'"
          ></ion-datetime>
        </ion-item>
        <ion-item>
          <ion-label floating>Início do período</ion-label>
          <ion-datetime
            cancelText="Cancelar"
            doneText="Pronto"
            displayFormat="DD/MM/YYYY"
            [min]="year"
            [max]="year"
            [formControlName]="period.value + '_end'"
          ></ion-datetime>
        </ion-item>
      </ion-card-content>
    </ion-card>
  </form>
</ion-content>

<ion-footer>
  <ion-row>
    <ion-col>
      <button ion-button block small (click)="saveYear()">SALVAR</button>
    </ion-col>
  </ion-row>
</ion-footer>
