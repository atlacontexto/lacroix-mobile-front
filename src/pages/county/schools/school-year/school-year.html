<!--
  Generated template for the SchoolYearPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar> <ion-title>Ano Letivo</ion-title> </ion-navbar>
  <ion-item>
    <ion-label>Ano</ion-label>
    <ion-datetime
      cancelText="Cancelar"
      doneText="Pronto"
      displayFormat="YYYY"
      pickerFormat="YYYY"
      [(ngModel)]="year"
      min="2016"
      max="2022"
    ></ion-datetime>
  </ion-item>
  <ion-item>
    <ion-label floating>Regime Avaliativo</ion-label>
    <ion-select [disabled]="schoolYear != null" [(ngModel)]="regimeSelected">
      <ion-option *ngFor="let regime of regimes" [value]="regime.value">{{
        regime.showValue
      }}</ion-option>
    </ion-select>
  </ion-item>
</ion-header>

<ion-content no-padding>
  <ion-row *ngIf="!schoolYear">
    <ion-col>
      <button ion-button block (click)="saveYear()">SALVAR ANO LETIVO</button>
    </ion-col>
  </ion-row>
  <!-- <ion-row *ngIf="schoolYearId">
    <ion-col>
      <button ion-button block (click)="saveYear()">
        ATUALIZAR ANO LETIVO
      </button>
    </ion-col>
  </ion-row> -->
  <ion-list-header text-center *ngIf="schoolYearId">PERÍODOS</ion-list-header>
  <ion-row
    *ngIf="schoolYear && schoolYear.periods.length < schoolYear.regime.periods"
  >
    <ion-col>
      <button ion-button block (click)="addPeriod()">ADICIONAR PERÍODO</button>
    </ion-col>
  </ion-row>
  <ion-list inset *ngIf="schoolYear">
    <button
      ion-item
      *ngFor="let period of schoolYear.periods"
      (click)="editPeriod(period)"
    >
      <h2>{{ period.start.start | date }}</h2>
      <h3>{{ period.start.title }}</h3>
      <h2>{{ period.end.start | date }}</h2>
      <h3>{{ period.end.title }}</h3>
    </button>
  </ion-list>
</ion-content>
