<ion-header no-border>
  <ion-navbar transparent>
    <ion-title>Autorização</ion-title>
    <ion-buttons end>
      <button ion-button icon-end (click)="openHelp()">
        Ajuda
        <ion-icon name="info"></ion-icon>
      </button> </ion-buttons
  ></ion-navbar>
  <ion-toolbar> <profile-status-header></profile-status-header> </ion-toolbar>
  <ion-segment
    padding-horizontal
    [(ngModel)]="step"
    color="atla-red"
    *ngIf="
      profile.school?.status === 'accepted' ||
      profile.county?.status === 'accepted'
    "
    (ionChange)="onSegmentChange()"
  >
    <ion-segment-button value="pending"> Espera </ion-segment-button>
    <ion-segment-button value="accepted"> Aceita </ion-segment-button>
    <ion-segment-button value="closed"> Suspensa </ion-segment-button>
  </ion-segment>
</ion-header>

<ion-content no-padding>
  <ion-grid>
    <div no-padding [ngSwitch]="step" col-xl-8 offset-xl-2>
      <requests
        (updateRequestins)="updateRequestings()"
        [status]="'waiting'"
        [requests]="requests"
        *ngSwitchCase="'pending'"
      ></requests>
      <requests
        (updateRequestins)="updateRequestings()"
        [status]="'accepted'"
        [requests]="requests"
        *ngSwitchCase="'accepted'"
      ></requests>
      <requests
        (updateRequestins)="updateRequestings()"
        [status]="'closed'"
        [requests]="requests"
        *ngSwitchCase="'closed'"
      ></requests>
    </div>
  </ion-grid>
</ion-content>
