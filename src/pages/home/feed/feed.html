<ion-header no-border>
  <ion-navbar>
    <button ion-button menuToggle><ion-icon name="settings"></ion-icon></button>
    <ion-searchbar
      placeholder="Buscar"
      [(ngModel)]="myInput"
      [showCancelButton]="shouldShowCancel"
      (ionInput)="onInput($event)"
      (ionCancel)="onCancel($event)"
    >
    </ion-searchbar>
    <ion-buttons end>
      <button ion-button icon-end (click)="newPost()">
        Novidade
        <ion-icon name="paper"></ion-icon>
      </button>
    </ion-buttons>
  </ion-navbar>

  <ion-toolbar>
    <ion-item
      *ngIf="isProfile(currentProfile)"
      no-lines
      (click)="showProfile()"
    >
      <ion-avatar item-start>
        <img src="assets/imgs/placeholder.png" />
      </ion-avatar>
      <p text-wrap>Acessando como {{ currentProfile.$showType }}</p>
      <p *ngIf="currentProfile.role">
        {{ currentProfile.role.type | translate }}
      </p>
      <p>{{ currentProfile.school?.requested.institution.name }}</p>
      <p>{{ currentProfile.county?.requested.name }}</p>
      <ion-icon
        *ngIf="
          currentProfile.school?.status == 'waiting' ||
          currentProfile.county?.status == 'waiting'
        "
        [color]="currentProfile.school?.status || currentProfile.county?.status"
        name="time"
        item-end
      ></ion-icon>
      <ion-icon
        *ngIf="
          currentProfile.school?.status == 'accepted' ||
          currentProfile.county?.status == 'accepted'
        "
        [color]="currentProfile.school?.status || currentProfile.county?.status"
        name="checkmark-circle"
        item-end
      ></ion-icon>
      <ion-icon
        *ngIf="
          currentProfile.school?.status == 'closed' ||
          currentProfile.county?.status == 'closed'
        "
        [color]="currentProfile.school?.status || currentProfile.county?.status"
        name="alert"
        item-end
      ></ion-icon>
      <ion-icon
        *ngIf="
          currentProfile.school?.status == 'denied' ||
          currentProfile.county?.status == 'denied'
        "
        [color]="currentProfile.school?.status || currentProfile.county?.status"
        name="close"
        item-end
      ></ion-icon>
    </ion-item>
  </ion-toolbar>

  <last-news></last-news>
</ion-header>

<ion-content padding class="cards-bg social-cards">
  <news-show [main]="true"></news-show>
</ion-content>
